<!DOCTYPE html>
<html>
<head>
    <title>Page 3</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }
        .countdown { font-size: 24px; color: #8b0000; margin: 20px; }
    </style>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        let targetUrl = urlParams.get('target') || '/';
        
        // Ensure URL has https:// prefix if missing
        if (targetUrl.startsWith('http') === false) {
            targetUrl = 'https://' + targetUrl;
        }
        
        let seconds = 2;
        const countdownEl = document.createElement('div');
        countdownEl.className = 'countdown';
        document.body.appendChild(countdownEl);
        
        function updateCountdown() {
            countdownEl.textContent = `Redirecting to final destination in ${seconds} seconds...`;
            if (seconds-- <= 0) {
                window.location.href = targetUrl;
            } else {
                setTimeout(updateCountdown, 1000);
            }
        }
        updateCountdown();
    </script>
</head>
<body>
    <h1>Custom Page 3</h1>
    <p>This is the final interstitial page</p>
</body>
</html>
